{"version":3,"sources":["helpers/request.js","Components/MovieDetailsPage/MovieDetailsPage.module.css","Components/MovieDetailsPage/MovieDetailsPage.js"],"names":["baseImgUrl","axios","defaults","baseURL","apiKey","process","requestApi","request","query","get","module","exports","Cast","lazy","Reviews","MovieDetailsPage","history","match","useState","movie","setMovie","from","setFrom","search","setSearch","movieId","params","id","location","useLocation","console","log","useEffect","then","res","data","state","title","overview","genres","vote_average","poster_path","release_date","className","styles","wrapper","back","onClick","push","pathname","infoWrapper","src","alt","infoTitle","slice","infoContent","Math","round","infoGanres","map","ganre","infoGanre","key","name","sectionName","infoAdd","to","infoAddBtn","castList","fallback","path","render","props"],"mappings":"yIAAA,yFAEaA,EAAa,mCAE1BC,IAAMC,SAASC,QAAU,+BACzB,IAAMC,EAAM,kBAAcC,oCAEbC,EAAa,SAACC,GAAyB,IAAhBC,EAAe,uDAAP,GAC1C,OAAOP,IAAMQ,IAAIF,EAAU,IAAMH,EAAS,UAAYI,K,mBCPxDE,EAAOC,QAAU,CAAC,QAAU,kCAAkC,KAAO,+BAA+B,YAAc,sCAAsC,UAAY,oCAAoC,YAAc,sCAAsC,WAAa,qCAAqC,UAAY,oCAAoC,YAAc,sCAAsC,QAAU,kCAAkC,WAAa,qCAAqC,SAAW,qC,0GCOrfC,EAAOC,gBAAK,kBAAM,gCAClBC,EAAUD,gBAAK,kBAAM,gCAiGZE,UA/FU,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAAY,EACrBC,mBAAS,IADY,mBACxCC,EADwC,KACjCC,EADiC,OAEvBF,mBAAS,IAFc,mBAExCG,EAFwC,KAElCC,EAFkC,OAGnBJ,mBAAS,IAHU,mBAGxCK,EAHwC,KAGhCC,EAHgC,KAK3CC,EAAUR,EAAMS,OAAOC,GAErBC,EAAWC,cACjBC,QAAQC,IAAIH,GAEZI,qBAAU,WACR1B,YAAW,UAAD,OAAWmB,IAAWQ,MAAK,SAACC,GAAD,OAASd,EAASc,EAAIC,SAC3DP,EAASQ,OAASd,EAAQM,EAASQ,MAAMf,MACzCO,EAASQ,OAASZ,EAAUI,EAASQ,MAAMb,UAC1C,CAACE,EAASG,IAEb,IAKES,EAMElB,EANFkB,MACAC,EAKEnB,EALFmB,SACAC,EAIEpB,EAJFoB,OACAC,EAGErB,EAHFqB,aACAC,EAEEtB,EAFFsB,YACAC,EACEvB,EADFuB,aAEF,OACE,oCACE,6BAASC,UAAWC,IAAOC,SACzB,uBAAGF,UAAWC,IAAOE,KAAMC,QAflB,WACb/B,EAAQgC,KAAK,CAAEC,SAAU5B,EAAME,OAAQA,GAAkB,OAcrD,kBAGA,yBAAKoB,UAAWC,IAAOM,aACpBT,GAAe,yBAAKU,IAAKnD,IAAayC,EAAaW,IAAKf,IACzD,6BACE,wBAAIM,UAAWC,IAAOS,WACnBhB,EADH,KACY,UAAGK,GAAeY,MAAM,EAAG,GADvC,KAGA,uBAAGX,UAAWC,IAAOW,aAArB,eACeC,KAAKC,MAAsB,IAAfjB,EAAuB,KADlD,MAGA,wBAAIG,UAAWC,IAAOS,WAAtB,YACA,uBAAGV,UAAWC,IAAOW,aAAcjB,GACnC,wBAAIK,UAAWC,IAAOS,WAAtB,WACA,wBAAIV,UAAWC,IAAOc,YACnBnB,EACGA,EAAOoB,KAAI,SAACC,GAAD,OACT,wBAAIjB,UAAWC,IAAOiB,UAAWC,IAAKF,EAAMjC,IACzCiC,EAAMG,SAGX,SAKZ,6BAASpB,UAAWC,IAAOC,SACzB,uBAAGF,UAAWC,IAAOoB,aAArB,2BACA,wBAAIrB,UAAWC,IAAOqB,SACpB,kBAAC,IAAD,CACEC,GAAE,0CAAqCzC,EAArC,SACFkB,UAAWC,IAAOuB,YAElB,qCAGF,kBAAC,IAAD,CACED,GAAE,0CAAqCzC,EAArC,YACFkB,UAAWC,IAAOuB,YAElB,yCAIJ,wBAAIxB,UAAWC,IAAOwB,UACpB,kBAAC,WAAD,CAAUC,SAAU,uCAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,gDACLC,OAAQ,SAACC,GAAD,OAAW,kBAAC5D,EAAD,iBAAU4D,EAAV,CAAiB/C,QAASA,QAE/C,kBAAC,IAAD,CACE6C,KAAK,mDACLC,OAAQ,SAACC,GAAD,OAAW,kBAAC1D,EAAD,iBAAa0D,EAAb,CAAoB/C,QAASA","file":"static/js/6.ff30121b.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const baseImgUrl = \"https://image.tmdb.org/t/p/w200/\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\nconst apiKey = `api_key=${process.env.REACT_APP_API_KEY}`;\r\n\r\nexport const requestApi = (request, query = \"\") => {\r\n  return axios.get(request + \"?\" + apiKey + \"&query=\" + query);\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieDetailsPage_wrapper__1_tsK\",\"back\":\"MovieDetailsPage_back__2ttAe\",\"infoWrapper\":\"MovieDetailsPage_infoWrapper__2Eu6X\",\"infoTitle\":\"MovieDetailsPage_infoTitle__3pUqt\",\"infoContent\":\"MovieDetailsPage_infoContent__2qguP\",\"infoGanres\":\"MovieDetailsPage_infoGanres__k6lha\",\"infoGanre\":\"MovieDetailsPage_infoGanre__WZWEy\",\"sectionName\":\"MovieDetailsPage_sectionName__22ao9\",\"infoAdd\":\"MovieDetailsPage_infoAdd__2pJhe\",\"infoAddBtn\":\"MovieDetailsPage_infoAddBtn__2xK9c\",\"castList\":\"MovieDetailsPage_castList__4dXAH\"};","import React, { useState, useEffect, Suspense, lazy } from \"react\";\r\nimport { requestApi, baseImgUrl } from \"../../helpers/request\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n// import Cast from \"../Cast/Cast\";\r\n// import Reviews from \"../Reviews/Reviews\";\r\nimport styles from \"./MovieDetailsPage.module.css\";\r\n\r\nconst Cast = lazy(() => import(\"../Cast/Cast\"));\r\nconst Reviews = lazy(() => import(\"../Reviews/Reviews\"));\r\n\r\nconst MovieDetailsPage = ({ history, match }) => {\r\n  const [movie, setMovie] = useState({});\r\n  const [from, setFrom] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  let movieId = match.params.id;\r\n\r\n  const location = useLocation();\r\n  console.log(location);\r\n\r\n  useEffect(() => {\r\n    requestApi(`/movie/${movieId}`).then((res) => setMovie(res.data));\r\n    location.state && setFrom(location.state.from);\r\n    location.state && setSearch(location.state.search);\r\n  }, [movieId, location]);\r\n\r\n  const goBack = () => {\r\n    history.push({ pathname: from, search: search ? search : \"\" });\r\n  };\r\n\r\n  const {\r\n    title,\r\n    overview,\r\n    genres,\r\n    vote_average,\r\n    poster_path,\r\n    release_date,\r\n  } = movie;\r\n  return (\r\n    <>\r\n      <section className={styles.wrapper}>\r\n        <p className={styles.back} onClick={goBack}>\r\n          &#8592; Go back\r\n        </p>\r\n        <div className={styles.infoWrapper}>\r\n          {poster_path && <img src={baseImgUrl + poster_path} alt={title} />}\r\n          <div>\r\n            <h3 className={styles.infoTitle}>\r\n              {title} ({`${release_date}`.slice(0, 4)})\r\n            </h3>\r\n            <p className={styles.infoContent}>\r\n              User score: {Math.round((vote_average * 1000) / 100)} %\r\n            </p>\r\n            <h3 className={styles.infoTitle}>Overview</h3>\r\n            <p className={styles.infoContent}>{overview}</p>\r\n            <h3 className={styles.infoTitle}>Genres:</h3>\r\n            <ul className={styles.infoGanres}>\r\n              {genres\r\n                ? genres.map((ganre) => (\r\n                    <li className={styles.infoGanre} key={ganre.id}>\r\n                      {ganre.name}\r\n                    </li>\r\n                  ))\r\n                : null}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section className={styles.wrapper}>\r\n        <p className={styles.sectionName}>Additional information:</p>\r\n        <ul className={styles.infoAdd}>\r\n          <Link\r\n            to={`/goit-react-hw-04-movies/movies/${movieId}/cast`}\r\n            className={styles.infoAddBtn}\r\n          >\r\n            <li>Cast</li>\r\n          </Link>\r\n\r\n          <Link\r\n            to={`/goit-react-hw-04-movies/movies/${movieId}/reviews`}\r\n            className={styles.infoAddBtn}\r\n          >\r\n            <li>Reviews</li>\r\n          </Link>\r\n        </ul>\r\n\r\n        <ul className={styles.castList}>\r\n          <Suspense fallback={<p>Loading</p>}>\r\n            <Switch>\r\n              <Route\r\n                path=\"/goit-react-hw-04-movies/movies/:movieId/cast\"\r\n                render={(props) => <Cast {...props} movieId={movieId} />}\r\n              />\r\n              <Route\r\n                path=\"/goit-react-hw-04-movies/movies/:movieId/reviews\"\r\n                render={(props) => <Reviews {...props} movieId={movieId} />}\r\n              />\r\n            </Switch>\r\n          </Suspense>\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}